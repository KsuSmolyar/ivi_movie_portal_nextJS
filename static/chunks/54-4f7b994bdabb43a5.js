(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54],{4541:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var a=t(5893),s=t(7294),r=t(4781),o=t.n(r),c=t(4184),l=t.n(c),i=t(2120),m=function(e){var n=e.className,t=e.comments,r=(0,i.$G)().t,c=(0,s.useMemo)(function(){var e=0,n=0,a=0;t.docs.map(function(t){switch(t.type){case"Позитивный":return e++;case"Нейтральный":return a++;case"Негативный":return n++;default:return t}});var s=(100*e/t.docs.length).toFixed(2)+" %",r=(100*n/t.docs.length).toFixed(2)+" %",o=(100*a/t.docs.length).toFixed(2)+" %";return{positive:e,neutral:a,negative:n,positivePercent:s,negativePercent:r,neutralPercent:o}},[t.docs,t.total]),m=c.positive,u=c.neutral,d=c.negative,_=c.positivePercent,h=c.negativePercent,f=c.neutralPercent;return 0===t.total?null:(0,a.jsxs)("ul",{className:l()(n,o().list),children:[(0,a.jsxs)("li",{className:o().item,children:[(0,a.jsx)("p",{className:l()(o().total,o().bigNumber),children:t.docs.length}),(0,a.jsx)("p",{className:o().type,children:r("GeneralDataOnCommentsForTheFilm.total")})]}),(0,a.jsxs)("li",{className:o().item,children:[(0,a.jsx)("span",{className:l()(o().positive,o().bigNumber),children:m}),(0,a.jsxs)("span",{className:o().percent,children:[" ",_]}),(0,a.jsx)("p",{className:o().type,children:r("GeneralDataOnCommentsForTheFilm.positive")})]}),(0,a.jsxs)("li",{className:o().item,children:[(0,a.jsx)("span",{className:l()(o().negative,o().bigNumber),children:d}),(0,a.jsxs)("span",{className:o().percent,children:[" ",h]}),(0,a.jsx)("p",{className:o().type,children:r("GeneralDataOnCommentsForTheFilm.negative")})]}),(0,a.jsxs)("li",{className:o().item,children:[(0,a.jsx)("span",{className:l()(o().neutral,o().bigNumber),children:u}),(0,a.jsxs)("span",{className:o().percent,children:[" ",f]}),(0,a.jsx)("p",{className:o().type,children:r("GeneralDataOnCommentsForTheFilm.neutral")})]})]})}},9180:function(e,n,t){"use strict";t.d(n,{e:function(){return y}});var a=t(5893),s=t(7294),r=t(3827),o=t(1193),c=t.n(o),l=t(2585),i=t(828),m=t(8886),u=t.n(m),d=t(4184),_=t.n(d),h=t(2120),f=t(1648),x=t(8500),p=t.n(x),v=t(1935),N=function(e){var n=e.comment,t=e.className,s=n.author.split(" ").slice(0,1),r=n.author.split(" ").slice(1);return(0,a.jsxs)("div",{className:_()(p().head,t),children:[(0,a.jsx)(v.c,{}),(0,a.jsxs)("div",{className:p().author,children:[(0,a.jsx)("p",{className:p().name,children:s}),(0,a.jsx)("p",{className:p().name,children:r})]}),(0,a.jsx)("p",{className:p().data,children:new Date(n.date).toLocaleDateString()})]})},j=t(3618),C=function(e){var n=e.className,t=e.comment,r=(0,h.$G)().t,o=(0,i.Z)((0,s.useState)(!1),2),c=o[0],l=o[1];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("article",{className:_()(u().root,n),children:[(0,a.jsx)(N,{comment:t}),(0,a.jsx)("p",{className:u().commentContent,children:t.review}),(0,a.jsxs)("div",{className:u().commentFooter,children:[(0,a.jsx)(j.Z,{large:!0,variant:"third",className:_()(u().commentBtn,"icon-message_20__0"),onClick:function(){return l(!0)},children:(0,a.jsx)("span",{children:r("sectionTitle.AddComment")})}),(0,a.jsxs)(j.Z,{large:!0,variant:"third",className:_()(u().commentBtn,u().like,"icon-thumbUp_16__0"),children:[(0,a.jsx)("span",{children:r("sectionTitle.Healthy")}),(0,a.jsx)("span",{children:"20"})]}),(0,a.jsxs)(j.Z,{large:!0,variant:"third",className:_()(u().commentBtn,u().like,"icon-thumbDown_16__0"),children:[(0,a.jsx)("span",{children:r("sectionTitle.No")}),(0,a.jsx)("span",{children:"5"})]})]})]}),c&&(0,a.jsx)(f.u,{children:(0,a.jsxs)("div",{className:_()(u().modal,"container"),children:[(0,a.jsx)(N,{comment:t,className:u().modalHead}),(0,a.jsx)("p",{className:_()(u().commentContent,u().modalComment),children:t.review}),(0,a.jsx)("textarea",{className:u().myComment,placeholder:"Оставте ваш коментарий"}),(0,a.jsxs)("div",{className:u().modalBlockBtn,children:[(0,a.jsx)(j.Z,{large:!0,variant:"third",className:u().modalBtn,children:"Комментировать"}),(0,a.jsx)(j.Z,{large:!0,variant:"third",onClick:function(){return l(!1)},className:u().modalBtn,children:"Закрыть"})]})]})})]})},g=t(7406),b=t(9452),y=function(e){e.all;var n=(0,r.C)(function(e){return e.filmComents}),t=n.pending,s=n.comments;return t?(0,a.jsx)("div",{className:c().loaderContainer,children:(0,a.jsx)(l.a,{className:c().loader})}):(null==s?void 0:s.total)===0?(0,a.jsx)("p",{className:c().message,children:"К данному фильму, пока нет комментариев"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ul",{className:c().desktop,children:s.docs.map(function(e){return(0,a.jsx)("li",{className:c().ItemComments,children:(0,a.jsx)(C,{comment:e})},(0,g.x0)())})}),(0,a.jsx)("div",{className:c().mobile,children:(0,a.jsx)(b.l,{withButton:!0,scrollMultipleItems:!0,carouselContainerClassName:c().carouselContainer,children:s.docs.map(function(e){return(0,a.jsx)("div",{className:c().commentContainer,children:(0,a.jsx)(C,{comment:e})},(0,g.x0)())})})})]})}},9452:function(e,n,t){"use strict";t.d(n,{l:function(){return d}});var a=t(828),s=t(5893),r=t(7294),o=t(1297),c=t.n(o),l=t(4184),i=t.n(l),m=t(1664),u=t.n(m),d=r.forwardRef(function(e,n){var t=e.title,o=e.carouselChildrenClassName,l=e.carouselContainerClassName,m=e.scrollMultipleItems,d=e.withButton,_=e.children,h=e.withArrow,f=e.href,x=(0,r.useRef)(null),p=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];var a=(0,r.useRef)(null);return(0,r.useEffect)(function(){n.forEach(function(e){e&&("function"==typeof e?e(a.current):e.current=a.current)})},[n]),a}(n,x),v=(0,r.useRef)(0),N=(0,r.useRef)(0),j=(0,a.Z)((0,r.useState)(!1),2),C=j[0],g=j[1],b=(0,a.Z)((0,r.useState)(!0),2),y=b[0],B=b[1];return(0,r.useEffect)(function(){var e=x.current,n=0,t=new ResizeObserver(function(e){var t=!0,a=!1,s=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var c=r.value;if(c.borderBoxSize){n=c.borderBoxSize[0].inlineSize,N.current=n;var l=c.target.children[0].getBoundingClientRect().width,i=Math.floor(n/l),u=m?i-1:1;if(v.current=l*u,d){var _=c.target.scrollWidth,h=c.target.scrollLeft;Math.ceil(n)>=_?B(!1):h+5<_-n&&B(!0)}}}}catch(f){a=!0,s=f}finally{try{t||null==o.return||o.return()}finally{if(a)throw s}}});return e&&t.observe(e),function(){e&&t.unobserve(e)}},[x,v,m,d]),(0,s.jsxs)("div",{className:i()(c().carouselContainer,l),"data-cy":"carusel",children:[t&&f&&(0,s.jsx)(u(),{href:f,className:c().titleLink,children:(0,s.jsxs)("h2",{className:c().title,children:[t,h&&(0,s.jsx)("span",{className:i()("icon-arrowRight_6x16__0",c().iconStyle)})]})}),t&&!f&&(0,s.jsxs)("h2",{className:c().title,children:[t,h&&(0,s.jsx)("span",{className:i()("icon-arrowRight_6x16__0",c().iconStyle)})]}),(0,s.jsxs)("div",{className:c().wrapper,children:[d&&C&&(0,s.jsx)("button",{className:i()(c().prevButton,"icon-arrowLeft_8x20__0"),onClick:function(){var e;null===(e=x.current)||void 0===e||e.scrollBy({left:-v.current,behavior:"smooth"})}}),(0,s.jsx)("div",{ref:p,onScroll:function(e){var n=e.currentTarget.scrollLeft,t=e.currentTarget.scrollWidth-N.current;n>0?g(!0):g(!1),n+5>t?B(!1):B(!0)},className:i()(c().carouselContent,o),children:_}),d&&y&&(0,s.jsx)("button",{className:i()(c().nextButton,"icon-arrowRight_8x20__0"),onClick:function(){var e;null===(e=x.current)||void 0===e||e.scrollBy({left:v.current,behavior:"smooth"})}})]})]})})},1648:function(e,n,t){"use strict";t.d(n,{u:function(){return m}});var a=t(5893),s=t(4184),r=t.n(s),o=t(7294),c=t(3935),l=t(8149),i=t.n(l),m=function(e){var n=e.children,t=e.className;return(0,o.useEffect)(function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow="visible"}},[]),(0,c.createPortal)((0,a.jsx)("div",{className:r()(i().backDrop,t),children:n}),document.body)}},1935:function(e,n,t){"use strict";t.d(n,{c:function(){return m}});var a=t(5893);t(7294);var s=t(4531),r=t.n(s),o=t(4184),c=t.n(o),l=t(5675),i=t.n(l),m=function(e){var n=e.src;return n?(0,a.jsx)(i(),{width:50,height:50,src:n,alt:"",className:c()(r().pic)}):(0,a.jsx)("div",{className:c()(r().pic,r().noUser,"icon-avatar_20__0 ")})}},4781:function(e){e.exports={item:"generaldataoncommentsforthefilm_item__GvfKI",bigNumber:"generaldataoncommentsforthefilm_bigNumber__cvtJf",type:"generaldataoncommentsforthefilm_type__KlSec",positive:"generaldataoncommentsforthefilm_positive__0J2vD",percent:"generaldataoncommentsforthefilm_percent__wuDUc",negative:"generaldataoncommentsforthefilm_negative__tJy_b",neutral:"generaldataoncommentsforthefilm_neutral__BMMoS"}},1193:function(e){e.exports={message:"listcomments_message__uhQ2O",loaderContainer:"listcomments_loaderContainer__DbDVp",loader:"listcomments_loader__mJ7nZ",listComments:"listcomments_listComments__bqipM",ItemComments:"listcomments_ItemComments__kLqSU",commentContainer:"listcomments_commentContainer__ZT2Mn",carouselContainer:"listcomments_carouselContainer__PdVbV",desktop:"listcomments_desktop__XGhB9",mobile:"listcomments_mobile__IHext"}},8886:function(e){e.exports={root:"onecomment_root__RO12_",commentFooter:"onecomment_commentFooter__0bUNt",commentBtn:"onecomment_commentBtn__0Dax0",like:"onecomment_like__L0Xhr",modal:"onecomment_modal__cd708",modalHead:"onecomment_modalHead__QSbJ2",modalComment:"onecomment_modalComment__anrZG",myComment:"onecomment_myComment__2_s1A",modalBlockBtn:"onecomment_modalBlockBtn__EyCWV",modalBtn:"onecomment_modalBtn__q9g31",commentContent:"onecomment_commentContent__uEyLh"}},1297:function(e){e.exports={carouselContainer:"carousel_carouselContainer__JWG4u",title:"carousel_title__w5_Uo",titleLink:"carousel_titleLink__CQJSp",iconStyle:"carousel_iconStyle__K3lAj",wrapper:"carousel_wrapper__vIIif",carouselContent:"carousel_carouselContent__B4q8_",prevButton:"carousel_prevButton__V9150",nextButton:"carousel_nextButton__IvLpw"}},8149:function(e){e.exports={backDrop:"modal_backDrop__zMv3v"}},4531:function(e){e.exports={pic:"userphoto_pic__ESxQ_",noUser:"userphoto_noUser__PTO0B"}},8500:function(e){e.exports={head:"onecommentheader_head__kETEL",author:"onecommentheader_author__R3uR6",name:"onecommentheader_name__JLPl3",data:"onecommentheader_data__OmaQK"}}}]);